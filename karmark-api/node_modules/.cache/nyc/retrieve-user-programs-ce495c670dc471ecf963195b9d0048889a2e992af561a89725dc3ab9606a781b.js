function cov_18ra35ux3s(){var path="C:\\Users\\Marc Salas\\bootcamp2\\skylab-bootcamp-202001\\staff\\marc-salas\\karmark\\karmark-api\\logic\\retrieve-user-programs.js";var hash="fd968631ca2f9138fde40ecdc7659c6687151909";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Marc Salas\\bootcamp2\\skylab-bootcamp-202001\\staff\\marc-salas\\karmark\\karmark-api\\logic\\retrieve-user-programs.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:43}},"1":{start:{line:2,column:25},end:{line:2,column:48}},"2":{start:{line:3,column:24},end:{line:3,column:49}},"3":{start:{line:9,column:0},end:{line:38,column:1}},"4":{start:{line:10,column:4},end:{line:10,column:29}},"5":{start:{line:12,column:4},end:{line:36,column:10}},"6":{start:{line:15,column:12},end:{line:15,column:64}},"7":{start:{line:15,column:23},end:{line:15,column:64}},"8":{start:{line:17,column:12},end:{line:17,column:41}},"9":{start:{line:19,column:12},end:{line:19,column:27}},"10":{start:{line:21,column:29},end:{line:33,column:14}},"11":{start:{line:23,column:31},end:{line:29,column:17}},"12":{start:{line:31,column:16},end:{line:31,column:37}},"13":{start:{line:32,column:16},end:{line:32,column:31}},"14":{start:{line:35,column:12},end:{line:35,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:17},end:{line:9,column:18}},loc:{start:{line:9,column:26},end:{line:38,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:14},end:{line:13,column:15}},loc:{start:{line:13,column:21},end:{line:36,column:9}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:47},end:{line:21,column:48}},loc:{start:{line:21,column:58},end:{line:33,column:13}},line:21}},branchMap:{"0":{loc:{start:{line:15,column:12},end:{line:15,column:64}},type:"if",locations:[{start:{line:15,column:12},end:{line:15,column:64}},{start:{line:15,column:12},end:{line:15,column:64}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fd968631ca2f9138fde40ecdc7659c6687151909"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_18ra35ux3s=function(){return actualCoverage;};return actualCoverage;}cov_18ra35ux3s();const{validate}=(cov_18ra35ux3s().s[0]++,require('karmark-utils'));const{models:{User}}=(cov_18ra35ux3s().s[1]++,require('karmark-data'));const{NotFoundError}=(cov_18ra35ux3s().s[2]++,require('karmark-errors'));/** Retrieve all the user's programs
 *
 * @param {string} id id of the user
 */cov_18ra35ux3s().s[3]++;module.exports=id=>{cov_18ra35ux3s().f[0]++;cov_18ra35ux3s().s[4]++;validate.string(id,'id');cov_18ra35ux3s().s[5]++;return User.findById(id).populate('programs').then(user=>{cov_18ra35ux3s().f[1]++;cov_18ra35ux3s().s[6]++;if(!user){cov_18ra35ux3s().b[0][0]++;cov_18ra35ux3s().s[7]++;throw new NotFoundError(`user not found`);}else{cov_18ra35ux3s().b[0][1]++;}cov_18ra35ux3s().s[8]++;user.id=user._id.toString();cov_18ra35ux3s().s[9]++;delete user._id;const programs=(cov_18ra35ux3s().s[10]++,user.programs.map(program=>{cov_18ra35ux3s().f[2]++;let _program=(cov_18ra35ux3s().s[11]++,{code:program.code,id:program._id.toString(),name:program.name,created:program.created,author:program.author.toString()});cov_18ra35ux3s().s[12]++;console.log(_program);cov_18ra35ux3s().s[13]++;return _program;}));cov_18ra35ux3s().s[14]++;return programs;});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLXVzZXItcHJvZ3JhbXMuanMiXSwibmFtZXMiOlsidmFsaWRhdGUiLCJyZXF1aXJlIiwibW9kZWxzIiwiVXNlciIsIk5vdEZvdW5kRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJzdHJpbmciLCJmaW5kQnlJZCIsInBvcHVsYXRlIiwidGhlbiIsInVzZXIiLCJfaWQiLCJ0b1N0cmluZyIsInByb2dyYW1zIiwibWFwIiwicHJvZ3JhbSIsIl9wcm9ncmFtIiwiY29kZSIsIm5hbWUiLCJjcmVhdGVkIiwiYXV0aG9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Imc0RUFBQSxLQUFNLENBQUNBLFFBQUQsMkJBQWFDLE9BQU8sQ0FBQyxlQUFELENBQXBCLENBQU4sQ0FDQSxLQUFNLENBQUNDLE1BQU0sQ0FBRSxDQUFDQyxJQUFELENBQVQsMkJBQW1CRixPQUFPLENBQUMsY0FBRCxDQUExQixDQUFOLENBQ0EsS0FBTSxDQUFDRyxhQUFELDJCQUFrQkgsT0FBTyxDQUFDLGdCQUFELENBQXpCLENBQU4sQ0FFQTs7OzJCQUlBSSxNQUFNLENBQUNDLE9BQVAsQ0FBa0JDLEVBQUQsRUFBUyxpREFDdEJQLFFBQVEsQ0FBQ1EsTUFBVCxDQUFnQkQsRUFBaEIsQ0FBb0IsSUFBcEIsRUFEc0Isd0JBR3RCLE1BQU9KLENBQUFBLElBQUksQ0FBQ00sUUFBTCxDQUFjRixFQUFkLEVBQWtCRyxRQUFsQixDQUEyQixVQUEzQixFQUNGQyxJQURFLENBQ0dDLElBQUksRUFBRyxpREFFVCxHQUFJLENBQUNBLElBQUwsQ0FBVyx5REFBTSxJQUFJUixDQUFBQSxhQUFKLENBQW1CLGdCQUFuQixDQUFOLENBQXlDLENBQXBELGlDQUZTLHdCQUlUUSxJQUFJLENBQUNMLEVBQUwsQ0FBVUssSUFBSSxDQUFDQyxHQUFMLENBQVNDLFFBQVQsRUFBVixDQUpTLHdCQU1ULE1BQU9GLENBQUFBLElBQUksQ0FBQ0MsR0FBWixDQUVBLEtBQU1FLENBQUFBLFFBQVEsMkJBQUdILElBQUksQ0FBQ0csUUFBTCxDQUFjQyxHQUFkLENBQWtCQyxPQUFPLEVBQUkseUJBRTFDLEdBQUlDLENBQUFBLFFBQVEsMkJBQUcsQ0FDWEMsSUFBSSxDQUFFRixPQUFPLENBQUNFLElBREgsQ0FFWFosRUFBRSxDQUFFVSxPQUFPLENBQUNKLEdBQVIsQ0FBWUMsUUFBWixFQUZPLENBR1hNLElBQUksQ0FBRUgsT0FBTyxDQUFDRyxJQUhILENBSVhDLE9BQU8sQ0FBRUosT0FBTyxDQUFDSSxPQUpOLENBS1hDLE1BQU0sQ0FBRUwsT0FBTyxDQUFDSyxNQUFSLENBQWVSLFFBQWYsRUFMRyxDQUFILENBQVosQ0FGMEMseUJBVTFDUyxPQUFPLENBQUNDLEdBQVIsQ0FBWU4sUUFBWixFQVYwQyx5QkFXMUMsTUFBT0EsQ0FBQUEsUUFBUCxDQUNILENBWmdCLENBQUgsQ0FBZCxDQVJTLHlCQXNCVCxNQUFPSCxDQUFBQSxRQUFQLENBQ0gsQ0F4QkUsQ0FBUCxDQTBCSCxDQTdCRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHt2YWxpZGF0ZX0gPSByZXF1aXJlKCdrYXJtYXJrLXV0aWxzJylcclxuY29uc3Qge21vZGVsczoge1VzZXJ9fSA9IHJlcXVpcmUoJ2thcm1hcmstZGF0YScpXHJcbmNvbnN0IHtOb3RGb3VuZEVycm9yfSA9IHJlcXVpcmUoJ2thcm1hcmstZXJyb3JzJylcclxuXHJcbi8qKiBSZXRyaWV2ZSBhbGwgdGhlIHVzZXIncyBwcm9ncmFtc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIHVzZXJcclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0gKGlkKSAgPT4ge1xyXG4gICAgdmFsaWRhdGUuc3RyaW5nKGlkLCAnaWQnKVxyXG5cclxuICAgIHJldHVybiBVc2VyLmZpbmRCeUlkKGlkKS5wb3B1bGF0ZSgncHJvZ3JhbXMnKVxyXG4gICAgICAgIC50aGVuKHVzZXIgPT57XHJcblxyXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKGB1c2VyIG5vdCBmb3VuZGApXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHVzZXIuaWQgPSB1c2VyLl9pZC50b1N0cmluZygpXHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdXNlci5faWRcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW1zID0gdXNlci5wcm9ncmFtcy5tYXAocHJvZ3JhbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBfcHJvZ3JhbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBwcm9ncmFtLmNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHByb2dyYW0uX2lkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvZ3JhbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHByb2dyYW0uY3JlYXRlZCxcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHByb2dyYW0uYXV0aG9yLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfcHJvZ3JhbSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBfcHJvZ3JhbSBcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtc1xyXG4gICAgICAgIH0pXHJcblxyXG59Il19