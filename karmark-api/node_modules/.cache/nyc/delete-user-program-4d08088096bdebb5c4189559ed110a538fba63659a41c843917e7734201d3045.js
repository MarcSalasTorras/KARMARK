function cov_2f8zimu8bh(){var path="C:\\Users\\Marc Salas\\bootcamp2\\skylab-bootcamp-202001\\staff\\marc-salas\\karmark\\karmark-api\\logic\\delete-user-program.js";var hash="6f56959b59b7a83c0688754d6f1a6c083c9d3b81";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Marc Salas\\bootcamp2\\skylab-bootcamp-202001\\staff\\marc-salas\\karmark\\karmark-api\\logic\\delete-user-program.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:43}},"1":{start:{line:2,column:34},end:{line:2,column:57}},"2":{start:{line:9,column:0},end:{line:17,column:1}},"3":{start:{line:10,column:4},end:{line:10,column:37}},"4":{start:{line:11,column:4},end:{line:11,column:29}},"5":{start:{line:13,column:4},end:{line:15,column:23}},"6":{start:{line:14,column:20},end:{line:14,column:48}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:17},end:{line:9,column:18}},loc:{start:{line:9,column:33},end:{line:17,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:14},end:{line:14,column:15}},loc:{start:{line:14,column:20},end:{line:14,column:48}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:14},end:{line:15,column:15}},loc:{start:{line:15,column:20},end:{line:15,column:22}},line:15}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},f:{"0":0,"1":0,"2":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f56959b59b7a83c0688754d6f1a6c083c9d3b81"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_2f8zimu8bh=function(){return actualCoverage;};return actualCoverage;}cov_2f8zimu8bh();const{validate}=(cov_2f8zimu8bh().s[0]++,require('karmark-utils'));const{models:{Program,User}}=(cov_2f8zimu8bh().s[1]++,require('karmark-data'));/** Delete a user program on the DB 
 *
 * @param {string} id id of the program
 * @param {string} author id of the author of the program
 */cov_2f8zimu8bh().s[2]++;module.exports=(author,id)=>{cov_2f8zimu8bh().f[0]++;cov_2f8zimu8bh().s[3]++;validate.string(author,'author');cov_2f8zimu8bh().s[4]++;validate.string(id,'id');cov_2f8zimu8bh().s[5]++;return User.findByIdAndUpdate(author,{$pull:{programs:id}}).then(()=>{cov_2f8zimu8bh().f[1]++;cov_2f8zimu8bh().s[6]++;return Program.deleteOne({_id:id});}).then(()=>{cov_2f8zimu8bh().f[2]++;});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGV0ZS11c2VyLXByb2dyYW0uanMiXSwibmFtZXMiOlsidmFsaWRhdGUiLCJyZXF1aXJlIiwibW9kZWxzIiwiUHJvZ3JhbSIsIlVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXV0aG9yIiwiaWQiLCJzdHJpbmciLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRwdWxsIiwicHJvZ3JhbXMiLCJ0aGVuIiwiZGVsZXRlT25lIiwiX2lkIl0sIm1hcHBpbmdzIjoic3JEQUFBLEtBQU0sQ0FBQ0EsUUFBRCwyQkFBYUMsT0FBTyxDQUFDLGVBQUQsQ0FBcEIsQ0FBTixDQUNBLEtBQU0sQ0FBQ0MsTUFBTSxDQUFFLENBQUNDLE9BQUQsQ0FBVUMsSUFBVixDQUFULDJCQUE0QkgsT0FBTyxDQUFDLGNBQUQsQ0FBbkMsQ0FBTixDQUVBOzs7OzJCQUtBSSxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBQ0MsTUFBRCxDQUFTQyxFQUFULEdBQWdCLGlEQUM3QlIsUUFBUSxDQUFDUyxNQUFULENBQWdCRixNQUFoQixDQUF3QixRQUF4QixFQUQ2Qix3QkFFN0JQLFFBQVEsQ0FBQ1MsTUFBVCxDQUFnQkQsRUFBaEIsQ0FBb0IsSUFBcEIsRUFGNkIsd0JBSTdCLE1BQU9KLENBQUFBLElBQUksQ0FBQ00saUJBQUwsQ0FBd0JILE1BQXhCLENBQWdDLENBQUNJLEtBQUssQ0FBRSxDQUFFQyxRQUFRLENBQUVKLEVBQVosQ0FBUixDQUFoQyxFQUNGSyxJQURFLENBQ0csSUFBTSx1REFBQVYsQ0FBQUEsT0FBTyxDQUFDVyxTQUFSLENBQWtCLENBQUNDLEdBQUcsQ0FBRVAsRUFBTixDQUFsQixFQUE0QixDQURyQyxFQUVGSyxJQUZFLENBRUcsSUFBTSx5QkFBRSxDQUZYLENBQVAsQ0FJSCxDQVJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge3ZhbGlkYXRlfSA9IHJlcXVpcmUoJ2thcm1hcmstdXRpbHMnKVxyXG5jb25zdCB7bW9kZWxzOiB7UHJvZ3JhbSwgVXNlcn19ID0gcmVxdWlyZSgna2FybWFyay1kYXRhJylcclxuXHJcbi8qKiBEZWxldGUgYSB1c2VyIHByb2dyYW0gb24gdGhlIERCIFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIHByb2dyYW1cclxuICogQHBhcmFtIHtzdHJpbmd9IGF1dGhvciBpZCBvZiB0aGUgYXV0aG9yIG9mIHRoZSBwcm9ncmFtXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IChhdXRob3IsIGlkKSA9PiB7XHJcbiAgICB2YWxpZGF0ZS5zdHJpbmcoYXV0aG9yLCAnYXV0aG9yJylcclxuICAgIHZhbGlkYXRlLnN0cmluZyhpZCwgJ2lkJylcclxuXHJcbiAgICByZXR1cm4gVXNlci5maW5kQnlJZEFuZFVwZGF0ZSggYXV0aG9yLCB7JHB1bGw6IHsgcHJvZ3JhbXM6IGlkIH19KVxyXG4gICAgICAgIC50aGVuKCgpID0+IFByb2dyYW0uZGVsZXRlT25lKHtfaWQ6IGlkfSkpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge30pXHJcblxyXG59Il19